# Планирование: анализ, идентификация проблем и поиск решений

## 1. Идентификация проблем

### Технические проблемы
* Долгая загрузка шашборда в системе MES
* Длительное время рассчёта стоимости изделия (2-30 минут)
* Проблемы с очередями: потери заказов, отсутствие видимости стауа обработки заказов (возможные проблемы с RabbitMQ)

### Архитектурные недостатки
* Молонитная система  с единственным инстансом для каждого приложения
* Single-point-of-failure в базах данных (один инстанс на чтение и запись)
* Отсутствие механизмов отказоустойчивости

### Проблемы в процессах
* Длительные задержки релизов
* Ручное тестирование как узкое место
* Отсутствие автоматизированного тестирования
* Ручной деплой release-окружения и продакшена

### Мониторинг и поддержка
* Отсутствие мониторинга
* Нет системы раннего обнаружения проблем и алертинга
* Сложность отслеживания статуса заказов


## 2. Предлагаемые инициативы
### 1. Срочные технические улучшения
* Внедрение горизонтального масштабирования для всех сервисов
* Оптимизация расчета стоимости (кэширование, асинхронная обработка)
* Репликация баз данных с разделением чтения/записи
* Внедрения кэширования для оптимизации работы дашборда в системе MES

### 2. Мониторинг и наблюдаемость
* Внедрение системы мониторинга (Prometheus + Grafana)
* Трейсинг для отслеживания заказов (Jaeger)
* Настройка алертинга по бизнес-метрикам

### 3. Улучшение процессов разработки
* Автоматизация тестирования
* Внедрение CI/CD для всех окружений
* Автоматические проверки производительности

### 4. Архитектурные изменения
* Выделение сервиса расчета стоимости
* Внедрение паттерна CQRS для оптимизации чтения
* Реализация механизма отказоустойчивости


## 3. Приоритизация и целевая архитектура

В первую очередь стоит решить проблемы, которые мешают нормальному функционированию бизнеса и проводят к потери денег, т.е. проблемы, связанные с задержкой и потерями заказов в системе. 

Исходя из этого ТОП-3 приоритетных инициатив на ближайшие полгода может выглядеть так: 

#### 1. Внедрение систем мониторинга для возможности быстрого реагирования на проблемы
#### 2. Горизонтальное масштабирование и решение проблем с произоводительностью
#### 3. Внедрение кэширования для оптимизации работы MES

#### Целевая архитектура через полгода может выглядеть следующим образом:
* Масштабируемые сервисы с автоматическим скейлингом
* Отдельный сервис расчета стоимости с кэшированием
* Реплицированные базы данных с разделением чтения/записи
* Полноценный мониторинг и трейсинг
* Автоматизированное тестирование и CI/CD

